<%= decidim_modal id: "selected-projects" do %>
  <div class="flex flex-col gap-4 mb-2">
    <h2 class="h2"><%= t(".choices") %></h2>
    <h3 class="h3"><%= translated_attribute(budget.title) %></h3>
    <p><%= t(".chosen_intro") %></p>
  </div>

  <div data-dialog-container>
    <ul class="budget-summary__selected-list divide-y border">
      <% current_order.projects.each do |project| %>
        <li class="budget-summary__selected-item h-10 flex justify-center items-center">
          <div class="border-r text-center flex items-center justify-center font-bold text-lg">
            <%= translated_attribute(project.title) %>
          </div>
          <div class="border-r text-center flex items-center justify-center text-lg">
            <strong class="budget-summary__selected-number">
              <%= budget_to_currency project.budget_amount %>
            </strong>
          </div>
          <% unless current_order_checked_out? %>
            <div class="text-center flex items-center justify-center">
              <%= button_to budget_order_line_item_path(project_id: project), method: :delete, remote: true, data: { disable: true }, form: { style: "display: inline" } do %>
                <%= icon("delete-bin-line", aria_label: t("decidim.budgets.projects.order_selected_projects.remove"), role: "img") %>
              <% end %>
            </div>
          <% end %>
        </li>
      <% end %>
    </ul>
  </div>

  <div data-dialog-actions>
    <button type="button" class="button button__lg button__secondary" data-dialog-close="selected-projects">
      <%= t(".continue") %>
    </button>
  </div>
<% end %>
