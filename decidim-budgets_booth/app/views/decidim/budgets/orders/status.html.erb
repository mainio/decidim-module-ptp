<%= render layout: "layouts/decidim/shared/layout_center" do %>
  <div class="flex flex-col gap-4 items-center text-center mt-12 mb-8">
    <div class="success-image">
      <svg class="animation-success__checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
        <circle class="animation-success__checkmark__circle" cx="26" cy="26" r="25" fill="none" />
        <path class="animation-success__checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8" />
      </svg>
    </div>

    <h1 class="h1 inline-block mt-12 mb-4">
      <%= t("title", scope: "decidim.budgets.orders.status", budget: translated_attribute(current_order.budget.title)) %>
    </h1>

    <p class="text-lg">
      <% if vote_success_content %>
        <%= vote_success_content %>
      <% else %>
        <%= t(
              "votes_info",
              scope: "decidim.budgets.orders.status",
              budget_name: translated_attribute(current_order.budget.title)
            ) %>
      <% end %>
    </p>
  </div>

  <div class="status-choices">
    <button class="flex gap-2" data-dialog-open="status-summary">
      <p class="text-lg"> <%= t(".selected_projects") %> </p>
      <%= icon("menu-line", class:"icon--small mt-1", aria_label: t(".view"), role: "img") %>
    </button>
  </div>

  <div class="form__wrapper-block flex-col-reverse md:flex-row justify-center gap-12 border-t-0">
    <%= button_to decidim.destroy_user_session_path, method: :delete, class: "button button__lg button__transparent-secondary w-full" do %>
      <%= t(".log_out") %>
      <%= icon("logout-box-r-line") %>
    <% end %>

    <%= link_to budgets_path, class: "button button__lg button__secondary" do %>
      <span>
        <% if pending_to_vote_budgets.present? %>
          <%= t("continue_voting", scope: "decidim.budgets.orders.status") %>
        <% else %>
          <%= t("return", scope: "decidim.budgets.orders.status") %>
        <% end %>
      </span>
      <%= icon "arrow-right-line", class: "fill-current" %>
    <% end %>
  </div>
<% end %>

<%= render partial: "status_summary_modal", locals: { show_delete_button: false } %>
